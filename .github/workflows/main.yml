name: Run Unit Tests and Lint Files
'on': [push, pull_request]
jobs:
    build:
      name: 'Lint by Prettier and commit'
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v3
        - uses: bahmutov/npm-install@v1

        - run: |
               npm run format
               git config user.name github-actions
               git config user.email github-actions@github.com
               git add .
               git commit -m "Format by Prettier"
               git push

    test_lint_build:
        name: 'Run Unit Tests and Lint Files and Build'
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v2
            - run: |
                  npm ci
                  npm run build
                  npm run test
                  npm run lint
